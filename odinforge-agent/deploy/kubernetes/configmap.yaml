apiVersion: v1
kind: ConfigMap
metadata:
  name: odinforge-agent-config
  namespace: odinforge
  labels:
    app.kubernetes.io/name: odinforge-agent
    app.kubernetes.io/component: agent
data:
  config.yaml: |
    server:
      url: "${ODINFORGE_SERVER_URL}"
      verify_tls: true
    
    auth:
      mode: api_key
      tenant_id: "${ODINFORGE_TENANT_ID}"
    
    collection:
      telemetry_interval: 5m
      heartbeat_interval: 1m
    
    buffer:
      path: /data/agent.queue.db
      max_events: 50000
    
    transport:
      timeout: 15s
      batch_size: 50
      compress: true
    
    safety:
      require_https: true
